{"name":"sharedata","tagline":"Interprocess data sharing between R sessions","body":"# sharedata\r\n\r\n[![Linux Build Status](https://travis-ci.org/renkun-ken/sharedata.png?branch=master)](https://travis-ci.org/renkun-ken/sharedata) \r\n[![Windows Build status](https://ci.appveyor.com/api/projects/status/github/renkun-ken/sharedata?svg=true)](https://ci.appveyor.com/project/renkun-ken/sharedata) \r\n[![Coverage Status](https://coveralls.io/repos/renkun-ken/sharedata/badge.svg)](https://coveralls.io/r/renkun-ken/sharedata) \r\n[![CRAN Version](http://www.r-pkg.org/badges/version/sharedata)](http://cran.rstudio.com/web/packages/sharedata)\r\n\r\n\r\nA simple toolbox to share data between R sessions without having to explicitly save data to a physical location. Any serializable R object can be shared to a system-wide memory pool from which other R sessions can make copies of the object.\r\n\r\n## Install\r\n\r\nCurrently, the package is only available on GitHub.\r\n\r\n```r\r\n# install.packages(\"devtools\")\r\ndevtools::install_github(\"renkun-ken/sharedata\")\r\n```\r\n\r\n## Use cases\r\n\r\n### Shared-memory data server/client\r\n\r\nIf you are working on data that is time-consuming to produce or read, and your working environment is unstable, easy to crash, exposed to risks of corrupting the data, or simply you needs multiple sessions working on the same source of data, you may start a clean R session, load the data, and use `sharedata` to share the data to system-wide shared memory. Each client R session then clone the data from the shared memory and separately working on the data without worrying about corrupting it.\r\n\r\nData server\r\n\r\n```r\r\nlibrary(sharedata)\r\n# read data from a source (RDS, Database, etc.)\r\n# data can be any R data object\r\ndata <- readRDS(\"data.rds\")\r\nshare_object(data, \"shared_data1\")\r\n```\r\n\r\nClient side\r\n\r\n```r\r\nlibrary(sharedata)\r\nx <- clone_object(\"shared_data1\")\r\n```\r\n\r\n### Shared-memory server/controller\r\n\r\nIf you need a script run in a loop, but still want to control the loop by passing in some information or signals. You may use `sharedata` to work as a intermediate controller. The server-side running loop reads from shared memory in each iteration, and the client-side works as a controller to pass data or signals to the loop, to make it pause, continue, or change behavior.\r\n\r\nServer side\r\n\r\n```r\r\nlibrary(sharedata)\r\ncontrol <- \"ready\"\r\nwhile(TRUE) {\r\n  control <- clone_object(\"server_state\", default = control)\r\n  switch(control, \r\n    ready = cat(\"The system is running\\n\"),\r\n    paused = cat(\"The system is paused\\n\"),\r\n    cat(\"Invalid system state\\n\")\r\n  )\r\n  Sys.sleep(1)\r\n}\r\n```\r\n\r\nController side\r\n\r\n```r\r\nlibrary(sharedata)\r\nwhile(TRUE) {\r\n  control <- readline()\r\n  share_object(control, \"server_state\")\r\n}\r\n```\r\n\r\n## License\r\n\r\nThis package is under [MIT License](http://opensource.org/licenses/MIT).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}